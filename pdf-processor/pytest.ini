[tool:pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = -v --tb=short --strict-markers --strict-config
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function

# Minimum Python version check
minversion = 7.0

# Test collection timeout
timeout = 300

# Deprecation warning filters - centrally managed by conftest.py and warning_management.py
filterwarnings = 
    # Error on warnings in our own code (catch issues early)
    error::DeprecationWarning:mcp_pdf_server.*
    error::DeprecationWarning:tests.*
    
    # Suppress specific SWIG-related external warnings
    ignore:builtin type .* has no __module__ attribute:DeprecationWarning
    ignore:builtin type SwigPyPacked has no __module__ attribute:DeprecationWarning
    ignore:builtin type SwigPyObject has no __module__ attribute:DeprecationWarning
    ignore:builtin type swigvarlink has no __module__ attribute:DeprecationWarning
    
    # Suppress Pydantic deprecation warnings
    ignore:Support for class-based.*config.*is deprecated:DeprecationWarning
    ignore::PydanticDeprecatedSince20
    
    # Suppress by module patterns
    ignore::DeprecationWarning:.*importlib.*
    ignore::DeprecationWarning:.*marker.*
    ignore::DeprecationWarning:.*pydantic.*
    ignore::DeprecationWarning:.*swig.*
    
    # Show uncategorized warnings so we can review them
    default::UserWarning
    default::FutureWarning